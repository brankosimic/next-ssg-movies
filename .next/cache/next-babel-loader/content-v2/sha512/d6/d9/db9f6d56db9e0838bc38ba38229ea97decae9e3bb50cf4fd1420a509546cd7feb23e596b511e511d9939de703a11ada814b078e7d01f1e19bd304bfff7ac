{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Button, FormControl, Input, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport React, { useCallback, useEffect, useState } from \"react\";\n\nvar Filters = function Filters(_ref) {\n  var genres = _ref.genres;\n\n  var _useState = useState([]),\n      selectedGenres = _useState[0],\n      setSelectedGenres = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      selectedYear = _useState2[0],\n      setSelectedYear = _useState2[1];\n\n  var handleChange = useCallback(function (event) {\n    setSelectedGenres(event.target.value);\n  }, []);\n\n  var handleSubmit = function handleSubmit() {\n    window.location.href = \"\".concat(window.location.origin, \"?genre=\").concat(selectedGenres.join(\",\"), \"&year=\").concat(selectedYear);\n  };\n\n  var handleInputChange = useCallback(function (event) {\n    var enteredYear = event.target.value;\n    setSelectedYear(enteredYear);\n  }, []);\n  useEffect(function () {\n    var urlParams = new URLSearchParams(window.location.search);\n    var genresString = urlParams.get(\"genre\");\n    var year = urlParams.get(\"year\");\n\n    if (genresString) {\n      setSelectedGenres(genresString.split(\",\"));\n    }\n\n    if (year) {\n      setSelectedYear(year);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"filters-container\",\n    children: [/*#__PURE__*/_jsxs(FormControl, {\n      children: [/*#__PURE__*/_jsx(InputLabel, {\n        id: \"demo-simple-select-label\",\n        className: \"genre-label\",\n        children: \"Choose genre\"\n      }), /*#__PURE__*/_jsx(Select, {\n        labelId: \"demo-mutiple-name-label\",\n        id: \"demo-simple-select\",\n        onChange: handleChange,\n        value: selectedGenres,\n        multiple: true,\n        input: /*#__PURE__*/_jsx(Input, {}),\n        children: genres.map(function (genre) {\n          return /*#__PURE__*/_jsx(MenuItem, {\n            value: genre.name,\n            children: genre.name\n          }, genre.id);\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Input, {\n      placeholder: \"Filter by year\",\n      onChange: handleInputChange,\n      value: selectedYear\n    }), /*#__PURE__*/_jsx(Button, {\n      onClick: handleSubmit,\n      children: \"Select\"\n    })]\n  });\n};\n\nexport default Filters;","map":null,"metadata":{},"sourceType":"module"}