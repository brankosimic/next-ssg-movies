{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Button, FormControl, Input, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport React, { useCallback, useEffect, useState } from \"react\";\n\nconst Filters = ({\n  genres\n}) => {\n  const {\n    0: selectedGenres,\n    1: setSelectedGenres\n  } = useState([]);\n  const {\n    0: selectedYear,\n    1: setSelectedYear\n  } = useState(\"\");\n  const handleChange = useCallback(event => {\n    setSelectedGenres(event.target.value);\n  }, []);\n\n  const handleSubmit = () => {\n    window.location.href = `${window.location.origin}?genre=${selectedGenres.join(\",\")}&year=${selectedYear}`;\n  };\n\n  const handleInputChange = useCallback(event => {\n    const enteredYear = event.target.value;\n    setSelectedYear(enteredYear);\n  }, []);\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const genresString = urlParams.get(\"genre\");\n    const year = urlParams.get(\"year\");\n\n    if (genresString) {\n      setSelectedGenres(genresString.split(\",\"));\n    }\n\n    if (year) {\n      setSelectedYear(year);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"filters-container\",\n    children: [/*#__PURE__*/_jsxs(FormControl, {\n      children: [/*#__PURE__*/_jsx(InputLabel, {\n        id: \"demo-simple-select-label\",\n        className: \"genre-label\",\n        children: \"Choose genre\"\n      }), /*#__PURE__*/_jsx(Select, {\n        labelId: \"demo-mutiple-name-label\",\n        id: \"demo-simple-select\",\n        onChange: handleChange,\n        value: selectedGenres,\n        multiple: true,\n        input: /*#__PURE__*/_jsx(Input, {}),\n        children: genres.map(genre => /*#__PURE__*/_jsx(MenuItem, {\n          value: genre.name,\n          children: genre.name\n        }, genre.id))\n      })]\n    }), /*#__PURE__*/_jsx(Input, {\n      placeholder: \"Filter by year\",\n      onChange: handleInputChange,\n      value: selectedYear\n    }), /*#__PURE__*/_jsx(Button, {\n      onClick: handleSubmit,\n      children: \"Select\"\n    })]\n  });\n};\n\nexport default Filters;","map":null,"metadata":{},"sourceType":"module"}