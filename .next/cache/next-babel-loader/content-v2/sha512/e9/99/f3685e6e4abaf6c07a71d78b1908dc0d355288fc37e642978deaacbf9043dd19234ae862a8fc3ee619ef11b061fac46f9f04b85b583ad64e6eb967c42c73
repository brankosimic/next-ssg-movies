{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from \"react\";\nimport MediaCard from \"./card\";\nimport axios from \"axios\";\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?api_key=f1ec200c0c6354d5b75565ea0b89bb27&language=en-US&query=${type}\";\nconst DISCOVER_API = \"https://api.themoviedb.org/3/discover/movie?api_key=f1ec200c0c6354d5b75565ea0b89bb27&with_genres={genre}\";\n\nconst MoviesList = ({\n  popularMovies\n}) => {\n  const {\n    0: movies,\n    1: setMovies\n  } = useState();\n\n  const getMoviesByGenre = async genre => {\n    const {\n      data\n    } = await axios.get(DISCOVER_API.replace(\"{genre}\", genre));\n    setMovies(data.results);\n  };\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const genre = urlParams.get(\"genre\");\n\n    if (genre) {\n      getMoviesByGenre(genre);\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"media-container\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      children: movies ? movies.map((movie, index) => {\n        return /*#__PURE__*/_jsx(MediaCard, {\n          movie: movie\n        }, index);\n      }) : popularMovies.map((movie, index) => {\n        return /*#__PURE__*/_jsx(MediaCard, {\n          movie: movie\n        }, index);\n      })\n    })\n  });\n};\n\nexport default MoviesList;","map":null,"metadata":{},"sourceType":"module"}