{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ValensSarajevo/Desktop/testApp/movies/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/ValensSarajevo/Desktop/testApp/movies/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/ValensSarajevo/Desktop/testApp/movies/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"C:/Users/ValensSarajevo/Desktop/testApp/movies/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport axios from \"axios\";\n\nvar Api = function Api() {\n  _classCallCheck(this, Api);\n\n  _defineProperty(this, \"getPopularMovies\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _yield$axios$get, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios.get(process.env.API_URL);\n\n          case 2:\n            _yield$axios$get = _context.sent;\n            data = _yield$axios$get.data;\n            return _context.abrupt(\"return\", data.results);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })));\n\n  _defineProperty(this, \"getFilteredMovies\", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(genre, year) {\n      var _yield$axios$get2, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.get(process.env.DISCOVER_API.replace(\"{genre}\", genre).replace(\"{year}\", year));\n\n            case 2:\n              _yield$axios$get2 = _context2.sent;\n              data = _yield$axios$get2.data;\n              return _context2.abrupt(\"return\", data.results);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n\n  _defineProperty(this, \"getAllGenres\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var _yield$axios$get3, data;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axios.get(process.env.GENRES_API);\n\n          case 2:\n            _yield$axios$get3 = _context3.sent;\n            data = _yield$axios$get3.data;\n            return _context3.abrupt(\"return\", data.genres);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  })));\n};\n\nvar api = new Api();\nexport default api;","map":{"version":3,"sources":["C:/Users/ValensSarajevo/Desktop/testApp/movies/services/api.ts"],"names":["axios","Api","get","process","env","API_URL","data","results","genre","year","DISCOVER_API","replace","GENRES_API","genres","api"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAIMC,G;;;kHACsB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACDD,KAAK,CAACE,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,OAAtB,CADC;;AAAA;AAAA;AAChBC,YAAAA,IADgB,oBAChBA,IADgB;AAAA,6CAEjBA,IAAI,CAACC,OAFY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;yEAKC,kBAAOC,KAAP,EAAsBC,IAAtB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACFT,KAAK,CAACE,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYM,YAAZ,CAAyBC,OAAzB,CAAiC,SAAjC,EAA4CH,KAA5C,EAAmDG,OAAnD,CAA2D,QAA3D,EAAqEF,IAArE,CAAV,CADE;;AAAA;AAAA;AACjBH,cAAAA,IADiB,qBACjBA,IADiB;AAAA,gDAGlBA,IAAI,CAACC,OAHa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;8GAML;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACGP,KAAK,CAACE,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYQ,UAAtB,CADH;;AAAA;AAAA;AACZN,YAAAA,IADY,qBACZA,IADY;AAAA,8CAGbA,IAAI,CAACO,MAHQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;AAOxB,IAAMC,GAAG,GAAG,IAAIb,GAAJ,EAAZ;AACA,eAAea,GAAf","sourcesContent":["import axios from \"axios\";\r\nimport IGenre from \"../interfaces/IGenre\";\r\nimport IMovie from \"../interfaces/IMovie\";\r\n\r\nclass Api {\r\n  public getPopularMovies = async (): Promise<IMovie[]> => {\r\n    const { data } = await axios.get(process.env.API_URL);\r\n    return data.results;\r\n  };\r\n\r\n  public getFilteredMovies = async (genre: string, year: string): Promise<IMovie[]> => {\r\n    const { data } = await axios.get(process.env.DISCOVER_API.replace(\"{genre}\", genre).replace(\"{year}\", year));\r\n\r\n    return data.results;\r\n  };\r\n\r\n  public getAllGenres = async (): Promise<IGenre[]> => {\r\n    const { data } = await axios.get(process.env.GENRES_API);\r\n\r\n    return data.genres;\r\n  };\r\n}\r\n\r\nconst api = new Api();\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}